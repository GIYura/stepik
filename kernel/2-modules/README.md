#### Общая информация

Перед разработкой модулей ядра необходимо установить следующие пакеты:

- kernel-source — содержит исходные тексты ядра, пакет kernel-source называется
одинаково во всех дистрибутивах;
- kernel-headers, или linux-userspace-headers — заголовочные файлы ядра, название
пакета может отличаться в зависимости от дистрибутива, произведите поиск по
строке headers и прочитайте описание найденных пакетов — найти нужный не
составит труда;
- kernel-default-devel — файлы, необходимые для разработки модулей ядра.
В некоторых дистрибутивах этот пакет может называться иначе, например kernel-devel.

Для raspberry пакет называется raspberry-kernel-headers.

При сборке модулей ядра нужно указать путь к makefile ядра

Может получиться так что версия установленного ядра и заголовочные файлы ядра не совпадают.
Т.к. ядро было установлено ранее, а заголовочные файлы скачаны позднее.

Чтобы собрать модуль нужно:
- скачать заголовочные файлы ядра такие же как ядро;
- обновить ядро

Выполнить:

```
sudo apt-get update && sudo apt-get install --reinstall raspberrypi-bootloader raspberrypi-kernel
sudo apt-get install raspberrypi-kernel-headers
reboot
```

